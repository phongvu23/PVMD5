<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>MD5 (Tham kh·∫£o)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f8f8;
      transition: background 0.5s ease;
      padding: 40px;
      text-align: center;
    }
    input {
      padding: 8px;
      width: 300px;
      font-size: 16px;
      margin: 5px 0;
    }
    button {
      padding: 8px 16px;
      font-size: 16px;
      margin: 5px;
    }
    .box {
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      margin: 20px auto;
      width: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .result {
      margin-top: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #222;
    }
    .debug {
      margin-top: 6px;
      font-size: 14px;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>üé≤ D·ª± ƒëo√°n MD5 By Suneo</h1>
  <div class="box">
    <div class="title">Nh·∫≠p chu·ªói MD5:</div>
    <input type="text" id="md5_fixed" placeholder=" Ch√∫c b·∫°n may m·∫Øn " />
    
    <div class="title">V·ªã tr√≠ c·∫Øt chu·ªói MD5 (start, end):</div>
    <input type="number" id="start_index" value="1" min="0" max="31" style="width: 80px;" />
    <input type="number" id="end_index" value="15" min="1" max="32" style="width: 80px;" />
    
    <br>
    <button onclick="calculateFixed()">D·ª± ƒëo√°n</button>
    <div id="result_fixed" class="result"></div>
    <div id="debug_fixed" class="debug"></div>
  </div>

  <script>
    function calculateFixed() {
      const md5Input = document.getElementById("md5_fixed");
      const md5 = md5Input.value.trim().toLowerCase();
      const resultEl = document.getElementById("result_fixed");
      const debugEl = document.getElementById("debug_fixed");
      const start = parseInt(document.getElementById("start_index").value);
      const end = parseInt(document.getElementById("end_index").value);

      if (!/^[0-9a-f]{32}$/.test(md5)) {
        resultEl.innerText = "‚ùå M√£ MD5 kh√¥ng h·ª£p l·ªá.";
        debugEl.innerText = "";
        return;
      }

      if (start < 0 || end > 32 || start >= end) {
        resultEl.innerText = "‚ö†Ô∏è V·ªã tr√≠ c·∫Øt kh√¥ng h·ª£p l·ªá.";
        debugEl.innerText = "";
        return;
      }

      const short = md5.substring(start, end);
      let value = parseInt(short, 16);
      const d1 = (value % 6) + 1;
      const d2 = (Math.floor(value / 6) % 6) + 1;
      const d3 = (Math.floor(value / 36) % 6) + 1;
      const sum = d1 + d2 + d3;
      const result = sum >= 11 ? "üî¥ T√†i nh√©" : "üîµ X·ªâu nh√©";

      resultEl.innerText = `${d1}-${d2}-${d3} = ${sum} ‚Üí ${result}`;
      debugEl.innerText = `ƒêo·∫°n l·∫•y: '${short}' (v·ªã tr√≠ ${start}, d√†i ${end - start})`;

      // ƒê·ªïi m√†u n·ªÅn theo k·∫øt qu·∫£
      if (sum >= 11) {
        document.body.style.background = "#ffe5e5"; // ƒë·ªè nh·∫°t
      } else {
        document.body.style.background = "#e5f0ff"; // xanh nh·∫°t
      }

      // X√≥a MD5 sau khi b·∫•m
      md5Input.value = "";
    }
  </script>
</body>
</html>
